!function(t){var e=function(e,s){this.element=e,this.setOptions(s),that=this,t(window).on("resize",function(){that.setWidths()})};e.prototype={constructor:e,setOptions:function(t){this.gutter=10,this.col=5,this.items=".item",this.fadeIn=!1,"number"==typeof this.element.data("gut")&&(this.gutter=this.element.data("gut")),"number"==typeof this.element.data("col")&&(this.col=this.element.data("col")),"string"==typeof this.element.data("items")&&(this.items=this.element.data("items")),"object"==typeof t&&("number"==typeof t.gutter&&(this.gutter=t.gutter),"number"==typeof t.col&&(this.col=t.col),"string"==typeof t.items&&(this.items=t.items)),this.setWidths()},setWidths:function(){this.width=this.element.width()+this.gutter,this.colWidth=this.width/this.col,this.placeItems()},placeItems:function(){var e=this;largestPushDown=0;for(var e=this,s=1,i=new Array([]),a=this.col-1;a>=0;a--)i[a]=new Array;this.element.css("position","relative"),this.element.find(this.items).hide().each(function(){var a=t(this),d=!1,h=0;for(a.data("w")?a.data("w")>e.col&&a.data("w",e.col):a.data("w",1),a.data("h")||a.data("h",a.data("w"));0==d;){for(var o=0;o<=e.col-1;o++){for(var r=!0,n=0;n<=a.data("w")-1&&(pushCol=Number(o+n),pushRow=Number(h+n),pushCol<e.col?null!=i[pushCol][h]&&null!=i[o][pushRow]&&(r=!1):r=!1,0!=r);n++);if(1==r){for(var n=0;n<=a.data("w")-1;n++)for(var l=0;l<=a.data("h")-1;l++)i[Number(o+n)][Number(h+l)]=1;var c=a.data("w")*e.colWidth-e.gutter;c-=parseInt(a.css("border-left-width"))+parseInt(a.css("border-right-width")),c-=parseInt(a.css("padding-left"))+parseInt(a.css("padding-right"));var p=a.data("h")*e.colWidth-e.gutter;p-=parseInt(a.css("border-top-width"))+parseInt(a.css("border-bottom-width")),p-=parseInt(a.css("padding-top"))+parseInt(a.css("padding-bottom")),a.data("pr",o),a.data("pd",h),a.data("data-ic",s),a.css("position","absolute"),a.width(c),a.height(p),a.css("left",o*e.colWidth+parseInt(e.element.css("padding-left"))),a.css("top",h*e.colWidth+parseInt(e.element.css("padding-top"))),e.fadeIn?a.delay(1e3).fadeIn("slow"):a.show(),largestPushDown<h+a.data("h")&&(largestPushDown=h+Number(a.data("h"))),d=!0;break}}h+=1}s++}),this.element.css("height",largestPushDown*this.colWidth-this.gutter+parseInt(this.element.css("padding-top"))+parseInt(this.element.css("padding-bottom")))}},t.fn.gridded=function(s){var i=t(this);return i.data("gridded")&&i.removeData("gridded"),i.data("gridded",new e(i,s)),this}}(window.jQuery);