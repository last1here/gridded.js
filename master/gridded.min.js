!function(t){var e=function(e,s){this.element=e,this.setOptions(s),that=this,t(window).on("resize",function(){that.resized()})};e.prototype={constructor:e,setOptions:function(t){this.gutter=10,this.col=5,this.items=".item",this.fadeIn=!1,"number"==typeof this.element.data("gut")&&(this.gutter=this.element.data("gut")),"number"==typeof this.element.data("col")&&(this.col=this.element.data("col")),"string"==typeof this.element.data("items")&&(this.items=this.element.data("items")),"object"==typeof t&&("number"==typeof t.gutter&&(this.gutter=t.gutter),"number"==typeof t.col&&(this.col=t.col),"string"==typeof t.items&&(this.items=t.items)),this.setWidths()},resized:function(){this.setWidths()},setWidths:function(){this.width=this.element.width()+this.gutter,console.log("1"+this.width),this.colWidth=this.width/this.col,this.plotItems(),this.placeItems()},placeItems:function(){var e=this;largestPushDown=0,this.element.css("position","relative"),this.element.find(this.items).each(function(){var s=t(this);s.data("w")||s.data("w",1),s.data("h")||s.data("h",s.data("w"));var i=s.data("w")*e.colWidth-e.gutter;i=i-parseInt(s.css("border-left-width"))-parseInt(s.css("border-right-width")),i=i-parseInt(s.css("padding-left"))-parseInt(s.css("padding-right"));var a=s.data("w")*e.colWidth-e.gutter;a=a-parseInt(s.css("border-top-width"))-parseInt(s.css("border-bottom-width")),a=a-parseInt(s.css("padding-top"))-parseInt(s.css("padding-bottom")),s.css("position","absolute"),s.width(i),s.height(a),s.css("left",s.data("pr")*e.colWidth+parseInt(e.element.css("padding-left"))),s.css("top",s.data("pd")*e.colWidth+parseInt(e.element.css("padding-top"))),largestPushDown<s.data("pd")+s.data("w")&&(largestPushDown=Number(s.data("pd"))+Number(s.data("h")))}),this.element.css("height",largestPushDown*this.colWidth-this.gutter+parseInt(this.element.css("padding-top"))+parseInt(this.element.css("padding-bottom")))},plotItems:function(){for(var e=this,s=1,i=new Array([]),a=this.col-1;a>=0;a--)i[a]=new Array;this.element.find(this.items).each(function(){var a,o=t(this),d={},r=!1,h=0;for(o.data("w")?(o.data("w")>e.col&&o.data("w",e.col),a=o.data("w")):(a=1,o.data("w",1));0==r;){for(var n=0;n<=e.col-1;n++){for(var l=!0,c=0;a-1>=c;c++)pushCol=Number(n+c),pushRow=Number(h+c),pushCol<e.col?null!=i[pushCol][h]&&null!=i[n][pushRow]&&(l=!1):l=!1;if(1==l){d.col=n,d.row=h;for(var c=0;a-1>=c;c++)for(var p=0;a-1>=p;p++)i[Number(n+c)][Number(h+p)]=1;r=!0;break}}h+=1}o.data("pr",d.col),o.data("pd",d.row),o.attr("data-ic",s),s++})}},t.fn.gridded=function(s){var i=t(this);return i.data("gridded")&&i.removeData("gridded"),i.data("gridded",new e(i,s)),this}}(window.jQuery);