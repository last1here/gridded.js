!function(e){var i=function(i,s){this.element=i,this.setOptions(s),t=this,this.resizeTimer,e(window).on("resize",function(){t.resized()})};i.prototype={constructor:i,setOptions:function(t){this.gutter=10,this.col=5,this.autoSimple=!1,"number"==typeof this.element.data("gut")&&(this.gutter=this.element.data("gut")),"number"==typeof this.element.data("col")&&(this.col=this.element.data("col")),"boolean"==typeof this.element.data("auto")&&(this.autoSimple=this.element.data("auto")),"object"==typeof t&&("number"==typeof t.gutter&&(this.gutter=t.gutter),"number"==typeof t.col&&(this.col=t.col),"boolean"==typeof t.auto&&(this.autoSimple=t.auto)),this.setWidths()},resized:function(){this.setWidths()},setWidths:function(){this.width=this.element.width()-this.gutter,this.colWidth=this.width/this.col,this.autoSimple&&this.simpleAutoPlot(),this.setItemWidths()},setItemWidths:function(){var t=this;largestPushDown=0,this.element.find(".item").each(function(){var i=e(this);i.width(i.data("w")*t.colWidth-t.gutter),i.height(i.data("w")*t.colWidth-t.gutter),0==i.data("pr")?i.css("left",t.gutter):i.css("left",i.data("pr")*t.colWidth+t.gutter),0==i.data("pd")?i.css("top",t.gutter):i.css("top",i.data("pd")*t.colWidth+t.gutter),largestPushDown<i.data("pd")+i.data("w")&&(largestPushDown=i.data("pd")+i.data("w"))}),this.element.css("height",largestPushDown*this.colWidth+this.gutter)},simpleAutoPlot:function(){var t=this,i=0,s=0;this.element.find(".item").each(function(){var a=e(this);a.data("w","1"),a.data("pr",i),a.data("pd",s),i++,i>t.col-1&&(i=0,s++)})},advancedAutoPlot:function(){this.element.find(".item").each(function(){this.data("w")})}},e.fn.gridded=function(t){var s=e(this);return s.data("gridded")&&s.removeData("gridded"),s.data("gridded",new i(s,t)),this},e(".container").gridded()}(window.jQuery);