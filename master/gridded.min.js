!function(e){var i=function(i,s){this.element=i,this.setOptions(s),t=this,e(window).on("resize",function(){t.resized()})};i.prototype={constructor:i,setOptions:function(t){this.gutter=10,this.col=5,this.autoSimple=!1,this.items=".item","number"==typeof this.element.data("gut")&&(this.gutter=this.element.data("gut")),"number"==typeof this.element.data("col")&&(this.col=this.element.data("col")),"boolean"==typeof this.element.data("auto")&&(this.autoSimple=this.element.data("auto")),"string"==typeof this.element.data("items")&&(this.items=this.element.data("items")),"object"==typeof t&&("number"==typeof t.gutter&&(this.gutter=t.gutter),"number"==typeof t.col&&(this.col=t.col),"boolean"==typeof t.auto&&(this.autoSimple=t.auto),"string"==typeof t.items&&(this.items=t.items)),this.setWidths()},resized:function(){this.setWidths()},setWidths:function(){this.width=this.element.width()+this.gutter,this.colWidth=this.width/this.col,this.autoSimple&&this.autoPlot(),this.setItemWidths()},setItemWidths:function(){var t=this;largestPushDown=0,this.element.css("position","relative"),this.element.find(this.items).each(function(){var i=e(this);i.css("position","absolute"),i.width(i.data("w")*t.colWidth-t.gutter),i.height(i.data("w")*t.colWidth-t.gutter),0==i.data("pr")?i.css("left",t.element.css("padding-left")):i.css("left",i.data("pr")*t.colWidth+parseInt(t.element.css("padding-left"))),0==i.data("pd")?i.css("top",t.gutter):i.css("top",i.data("pd")*t.colWidth+t.gutter),largestPushDown<i.data("pd")+i.data("w")&&(largestPushDown=Number(i.data("pd"))+Number(i.data("w")))}),this.element.css("height",largestPushDown*this.colWidth+this.gutter)},simpleAutoPlot:function(){var t=this,i=0,s=0;this.element.find(this.items).each(function(){var a=e(this);a.data("w","1"),a.data("pr",i),a.data("pd",s),i++,i>t.col-1&&(i=0,s++)})},autoPlot:function(){for(var t=this,i=1,s=[],a=0;a<=this.col-1;a++)s[a]=0;this.element.find(this.items).each(function(){var a=e(this);if(a.data("w"))var o=a.data("w");else o=1,a.data("w",1);var h={},n=!1;for(e.each(s,function(e,i){(h.value>i||null==h.value)&&s[e-1+o]<=i&&e<=t.col-o&&(h.value=i,h.key=e,n=!0)}),console.log(h.difference),c=0;o-1>=c;c++)s[h.key+c]+=o;a.data("pr",h.key),a.data("pd",h.value),a.attr("pr",h.key),a.attr("pd",h.value),i++}),console.log(s)}},e.fn.gridded=function(t){var s=e(this);return s.data("gridded")&&s.removeData("gridded"),s.data("gridded",new i(s,t)),this}}(window.jQuery);