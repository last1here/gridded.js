!function(t){"use strict";var i={gutter:10,numOfCols:5,items:".item",fadeIn:!1,randomSize:!1,breakPoints:{mobile:480,tablet:780}},s=function(s,o){var e=this;this.element=s,this.window=t(window),this.options=t.extend({},i,o),t.isPlainObject(this.element.data("gridded"))&&(this.options=t.extend({},this.options,this.element.data("gridded"))),this.getWidths(),this.options.randomSize&&this.setRandomWidths(),this.placeItems(),this.window.on("resize",function(){e.getWidths(),e.placeItems()})};s.prototype={constructor:s,getWidths:function(){this.options.col="object"==typeof this.options.numOfCols?this.window.width()<=this.options.breakPoints.mobile&&this.options.numOfCols.mobile?this.options.numOfCols.mobile:this.window.width()<=this.options.breakPoints.tablet&&this.options.numOfCols.tablet?this.options.numOfCols.tablet:this.options.numOfCols.desktop:this.options.numOfCols,this.width=this.element.width()+this.options.gutter,this.colWidth=this.width/this.options.col},setRandomWidths:function(){var i=this;console.log("rand"),this.element.find(this.options.items).each(function(){var s=t(this),o=Math.floor(Math.random()*(Math.round(i.options.col/2)-1+1)+1);s.data("w")||s.data("h")||(s.data("w",o),s.data("h",o))})},placeItems:function(){for(var i=this,s=1,o=0,e=new Array([]),n=this.options.col-1;n>=0;n--)e[n]=new Array;this.element.css("position","relative"),this.element.find(this.options.items).hide().each(function(){var n,d,a=t(this),h=!1,r=0,p=a.data("w"),l=a.data("h");for(p?p>i.options.col&&(p=i.options.col):p=1,l||(l=p);0==h;){for(var c=0;c<=i.options.col-1;c++){for(var m=!0,f=0;p-1>=f;f++){n=Number(c+f);for(var u=0;l-1>=u&&(d=Number(r+u),n<i.options.col?null!=e[n][d]&&(m=!1):m=!1,0!=m);u++);if(0==m)break}if(1==m){for(var f=0;p-1>=f;f++)for(var u=0;l-1>=u;u++)e[Number(c+f)][Number(r+u)]=1;var w=p*i.colWidth-i.options.gutter;w-=parseInt(a.css("border-left-width"))+parseInt(a.css("border-right-width"))+parseInt(a.css("padding-left"))+parseInt(a.css("padding-right"));var b=l*i.colWidth-i.options.gutter;b-=parseInt(a.css("border-top-width"))+parseInt(a.css("border-bottom-width"))+parseInt(a.css("padding-top"))+parseInt(a.css("padding-bottom")),a.data("pr",c).data("pd",r).data("data-ic",s),a.css("position","absolute").width(w).height(b).css("left",c*i.colWidth+parseInt(i.element.css("padding-left"))).css("top",r*i.colWidth+parseInt(i.element.css("padding-top"))),i.options.fadeIn?a.delay(1e3).fadeIn("slow"):a.show(),r+l>o&&(o=r+Number(l)),h=!0;break}}r+=1}s++}),this.element.css("height",o*this.colWidth-this.options.gutter+parseInt(this.element.css("padding-top"))+parseInt(this.element.css("padding-bottom"))),this.grid=e}},t.fn.gridded=function(i){var o=t(this);return o.data("gridded")&&o.removeData("gridded"),o.data("gridded",new s(o,i)),this}}(window.jQuery);