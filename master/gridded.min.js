!function(t){"use strict";var s={gutter:10,numOfCols:5,items:".item",fadeIn:!1,randomSize:!1,breakPoints:{mobile:480,tablet:780}},i=function(i,o){var e=this;this.element=i,this.options=t.extend({},s,o),t.isPlainObject(this.element.data("gridded"))&&(this.options=t.extend({},this.options,this.element.data("gridded"))),this.options.randomSize&&this.setRandomWidths(),this.getWidths(),this.placeItems(),t(window).on("resize",function(){e.getWidths(),e.placeItems()})};i.prototype={constructor:i,getWidths:function(){this.options.col="object"==typeof this.options.numOfCols?t(window).width()<=this.options.breakPoints.mobile&&this.options.numOfCols.mobile?this.options.numOfCols.mobile:t(window).width()<=this.options.breakPoints.tablet&&this.options.numOfCols.tablet?this.options.numOfCols.tablet:this.options.numOfCols.desktop:this.options.numOfCols,console.log(this.options.col),this.width=this.element.width()+this.options.gutter,this.colWidth=this.width/this.options.col},setRandomWidths:function(){var s=this;this.element.find(this.options.items).each(function(){var i=t(this);i.data("w")||i.data("h")||(i.data("w",Math.floor(Math.random()*(Math.round(s.options.col/2)-1+1)+1)),i.data("h",Math.floor(Math.random()*(Math.round(s.options.col/2)-1+1)+1)))})},placeItems:function(){for(var s=this,i=1,o=0,e=new Array([]),a=this.options.col-1;a>=0;a--)e[a]=new Array;this.element.css("position","relative"),this.element.find(this.options.items).hide().each(function(){var a,n,d=t(this),h=!1,r=0;for(d.data("w")?d.data("w")>s.options.col&&d.data("w",s.options.col):d.data("w",1),d.data("h")||d.data("h",d.data("w"));0==h;){for(var p=0;p<=s.options.col-1;p++){for(var l=!0,c=0;c<=d.data("w")-1;c++){a=Number(p+c);for(var m=0;m<=d.data("h")-1&&(n=Number(r+m),a<s.options.col?null!=e[a][n]&&(l=!1):l=!1,0!=l);m++);if(0==l)break}if(1==l){for(var c=0;c<=d.data("w")-1;c++)for(var m=0;m<=d.data("h")-1;m++)e[Number(p+c)][Number(r+m)]=1;var f=d.data("w")*s.colWidth-s.options.gutter;f-=parseInt(d.css("border-left-width"))+parseInt(d.css("border-right-width"))+parseInt(d.css("padding-left"))+parseInt(d.css("padding-right"));var u=d.data("h")*s.colWidth-s.options.gutter;u-=parseInt(d.css("border-top-width"))+parseInt(d.css("border-bottom-width"))+parseInt(d.css("padding-top"))+parseInt(d.css("padding-bottom")),d.data("pr",p).data("pd",r).data("data-ic",i),d.css("position","absolute").width(f).height(u).css("left",p*s.colWidth+parseInt(s.element.css("padding-left"))).css("top",r*s.colWidth+parseInt(s.element.css("padding-top"))),s.options.fadeIn?d.delay(1e3).fadeIn("slow"):d.show(),o<r+d.data("h")&&(o=r+Number(d.data("h"))),h=!0;break}}r+=1}i++}),this.element.css("height",o*this.colWidth-this.options.gutter+parseInt(this.element.css("padding-top"))+parseInt(this.element.css("padding-bottom"))),this.grid=e}},t.fn.gridded=function(s){var o=t(this);return o.data("gridded")&&o.removeData("gridded"),o.data("gridded",new i(o,s)),this}}(window.jQuery);